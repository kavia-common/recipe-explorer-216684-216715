{"is_source_file": true, "format": "Python", "description": "This file is a FastAPI backend implementation for a recipe exploration service. It defines data models for ingredients and recipes, initializes a seed dataset of recipes, and provides REST endpoints for health checks, listing recipes with search and pagination, and retrieving individual recipes by ID.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "uuid"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Query", "fastapi.middleware.cors.CORSMiddleware", "pydantic.BaseModel", "pydantic.Field", "uuid.uuid4"], "published": ["app", "health_check", "list_recipes", "get_recipe"], "classes": [{"name": "Ingredient", "description": "Represents a single ingredient item with a name and optional quantity."}, {"name": "Recipe", "description": "Represents a recipe with details, ingredients, steps, and metadata."}, {"name": "PaginatedRecipesResponse", "description": "Paginated response shape for a recipe list."}], "methods": [{"name": "str _mk_id()", "description": "Generates a new UUID string for recipe IDs.", "scope": "", "scopeKind": ""}, {"name": "List[Recipe] _seed_recipes()", "description": "Creates a predefined list of seed recipes for demo purposes.", "scope": "", "scopeKind": ""}, {"name": "bool _match_query(recipe: Recipe, q: str)", "description": "Checks if a recipe matches a search query in its title or tags.", "scope": "", "scopeKind": ""}, {"name": "Recipe get_recipe(recipe_id: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,str] health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PaginatedRecipesResponse list_recipes( q: Optional[str] = Query(None, description=\"Search query over title and tags (case-insensitive substring)\"), page: int = Query(1, ge=1, description=\"Page number (1-indexed)\"), page_size: int = Query(10, ge=1, le=100, description=\"Items per page\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["uuid.uuid4", "FastAPI", "HTTPException", "Query", "CORSMiddleware", "base model constructors", "list_recipes", "get_recipe", "health_check"], "search-terms": ["FastAPI", "recipe API", "seed recipes", "search query", "pagination", "recipe retrieval"], "state": 2, "file_id": 4, "knowledge_revision": 10, "git_revision": "02824f7494ba3f7a284b16fb7b04b6012bd7b112", "revision_history": [{"9": "02824f7494ba3f7a284b16fb7b04b6012bd7b112"}, {"10": "02824f7494ba3f7a284b16fb7b04b6012bd7b112"}], "ctags": [{"_type": "tag", "name": "Ingredient", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^class Ingredient(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaginatedRecipesResponse", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^class PaginatedRecipesResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RECIPES", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^RECIPES: List[Recipe] = _seed_recipes()$/", "language": "Python", "typeref": "typename:List[Recipe]", "kind": "variable"}, {"_type": "tag", "name": "RECIPES_BY_ID", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^RECIPES_BY_ID: Dict[str, Recipe] = {r.id: r for r in RECIPES}$/", "language": "Python", "typeref": "typename:Dict[str, Recipe]", "kind": "variable"}, {"_type": "tag", "name": "Recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^class Recipe(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_match_query", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def _match_query(recipe: Recipe, q: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(recipe: Recipe, q: str)"}, {"_type": "tag", "name": "_mk_id", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def _mk_id() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_seed_recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def _seed_recipes() -> List[Recipe]:$/", "language": "Python", "typeref": "typename:List[Recipe]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "allowed_origins", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^allowed_origins = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    description: str = Field(..., description=\"Short description of the recipe\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "get_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def get_recipe(recipe_id: str) -> Recipe:$/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "(recipe_id: str)"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    id: str = Field(..., description=\"Unique identifier (UUID as string)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "image_url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    image_url: Optional[str] = Field(None, description=\"URL to an image of the recipe\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "ingredients", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    ingredients: List[Ingredient] = Field(default_factory=list, description=\"List of ingredients/", "language": "Python", "typeref": "typename:List[Ingredient]", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    items: List[Recipe] = Field(..., description=\"List of recipes in current page\")$/", "language": "Python", "typeref": "typename:List[Recipe]", "kind": "variable", "scope": "PaginatedRecipesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "list_recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^def list_recipes($/", "language": "Python", "typeref": "typename:PaginatedRecipesResponse", "kind": "function", "signature": "( q: Optional[str] = Query(None, description=\"Search query over title and tags (case-insensitive substring)\"), page: int = Query(1, ge=1, description=\"Page number (1-indexed)\"), page_size: int = Query(10, ge=1, le=100, description=\"Items per page\"), )"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    name: str = Field(..., description=\"Ingredient name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Ingredient", "scopeKind": "class"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    page: int = Field(..., description=\"Current page number (1-indexed)\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginatedRecipesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "page_size", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    page_size: int = Field(..., description=\"Number of items per page\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginatedRecipesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    quantity: Optional[str] = Field(None, description=\"Quantity description (e.g., '2 cups')\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Ingredient", "scopeKind": "class"}, {"_type": "tag", "name": "servings", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    servings: int = Field(..., description=\"Number of servings\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    steps: List[str] = Field(default_factory=list, description=\"Step-by-step instructions\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    tags: List[str] = Field(default_factory=list, description=\"List of tags for filtering\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    title: str = Field(..., description=\"Recipe title\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    total: int = Field(..., description=\"Total number of recipes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginatedRecipesResponse", "scopeKind": "class"}, {"_type": "tag", "name": "total_time_minutes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-216684-216715/recipe_app_backend/src/api/main.py", "pattern": "/^    total_time_minutes: int = Field(..., description=\"Total time required in minutes\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}], "hash": "f9f9363314adb11e90dfffdc5d61ee2b", "format-version": 4, "code-base-name": "recipe_app_backend", "filename": "recipe_app_backend/src/api/main.py", "fields": [{"name": "List[Recipe] RECIPES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, Recipe] RECIPES_BY_ID", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allowed_origins = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str description", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] image_url", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Ingredient] ingredients", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Recipe] items", "scope": "PaginatedRecipesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "Ingredient", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int page", "scope": "PaginatedRecipesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int page_size", "scope": "PaginatedRecipesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] quantity", "scope": "Ingredient", "scopeKind": "class", "description": "unavailable"}, {"name": "int servings", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] steps", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] tags", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "int total", "scope": "PaginatedRecipesResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_time_minutes", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}]}